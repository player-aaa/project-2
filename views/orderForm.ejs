<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <link href="/styles.css" rel="stylesheet" type="text/css" />
    <title>Order Form</title>
  </head>

  <style>
    body {
      background-image: url("https://5starcar.co.uk/wp-content/uploads/2018/05/a8c1460160043e6a3cccb128eee34914.jpg");
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
    }
  </style>

  <body>
    <div class="header">
      <h1 class="text-center mb-0"><a href="/home" class="link">Drive</a></h1>
    </div>
    <div class="order d-flex align-items-center justify-content-center">
      <div class="text-center">
        <% if (locals.orderData) { %>
        <form
          action="/existingOrder/<%= orderId %>/edit?_method=PUT"
          method="POST"
        >
          <label for="brand">Brand: </label>
          <select id="brand" name="brand">
            <% brands.forEach((element) => { %> <% if (orderData.brand ===
            element.brand_name) { %>
            <option value="<%= element.brand_name %>" selected>
              <%= element.brand_name %>
            </option>
            <% } else { %>
            <option value="<%= element.brand_name %>">
              <%= element.brand_name %>
            </option>
            <% } %> <% }) %></select
          ><br />
          <label for="category">Category: </label>
          <select id="category" name="category">
            <% categories.forEach((element) => { %> <% if (orderData.category
            === element.category_name) { %>
            <option value="<%= element.category_name %>" selected>
              <%= element.category_name %>
            </option>
            <% } else { %>
            <option value="<%= element.category_name %>">
              <%= element.category_name %>
            </option>
            <% } %> <% }) %>
          </select>
          <br /><br />
          <label for="startDate">Start Date: </label><br />
          <input
            class="mb-2"
            type="date"
            id="startDate"
            name="startDate"
            value="<%= orderData.startDate %>"
            required
          /><br />
          <label for="endDate">End Date: </label><br />
          <input
            type="date"
            id="endDate"
            name="endDate"
            value="<%= orderData.endDate %>"
            required
          /><br />
          <br />
          <input class="d-block mx-auto" type="submit" value="Submit" />
        </form>
        <% } else { %>
        <form action="/newOrder/confirm" method="GET">
          <label for="brand">Brand: </label>
          <select id="brand" name="brand">
            <% brands.forEach((element) => { %>
            <option value="<%= element.brand_name %>">
              <%= element.brand_name %>
            </option>
            <% }) %>
          </select>
          <br />
          <label for="category">Category: </label>
          <select id="category" name="category">
            <% categories.forEach((element) => { %>
            <option value="<%= element.category_name %>">
              <%= element.category_name %>
            </option>
            <% }) %>
          </select>
          <br /><br />
          <label for="startDate">Start Date: </label><br />
          <input
            class="mb-2"
            type="date"
            id="startDate"
            name="startDate"
            required
          /><br />
          <label for="endDate">End Date: </label><br />
          <input type="date" id="endDate" name="endDate" required /><br />
          <br />
          <input class="d-block mx-auto" type="submit" value="Submit" />
        </form>
        <% } %>
      </div>
    </div>
  </body>
</html>
