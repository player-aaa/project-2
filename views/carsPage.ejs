<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <link href="/styles.css" rel="stylesheet" type="text/css" />
  </head>

  <style>
    body {
      background-image: url("https://wallpaperaccess.com/full/7317651.jpg");
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
    }
  </style>

  <title>Cars Page</title>
  <body>
    <div class="header">
      <h1 class="text-center mb-0"><a href="/home" class="link">Drive</a></h1>
    </div>
    <% if (superuser == true) { %>
    <div class="d-flex justify-content-center mb-3 mt-2">
      <form action="/cars/add">
        <input type="submit" value="Add new car" class="btn-success" />
      </form>
    </div>
    <% } %> <% carsData.forEach((element, index) => { %>
    <div class="container border border-dark rounded mb-3">
      <h3 class="mt-2 mb-3">Car #<%= index + 1 %></h3>
      <p><b>Brand:</b> <%= element.brand_name %></p>
      <p><b>Category:</b> <%= element.category_name %></p>
      <p><b>Price:</b> $<%= element.rental_price %> / day</p>
      <% if (superuser == true) { %>
      <div>
        <form action="/cars/<%= element.car_id %>/edit">
          <input
            type="submit"
            value="Edit Price"
            class="d-block btn-warning mx-auto text-center"
          />
        </form>
        <form
          action="/cars/<%= element.car_id %>/delete?_method=DELETE"
          method="POST"
        >
          <input
            type="submit"
            value="Delete Car"
            class="d-block btn-danger mx-auto my-2 text-center"
          />
        </form>
      </div>
      <% } %>
    </div>
    <% }) %>
    <div class="d-flex justify-content-center">
      <form action="/home">
        <input type="submit" value="Return to main page" />
      </form>
    </div>
  </body>
</html>
